# ğŸ“Š FundPulse åŸºé‡‘å‡€å€¼çœ‹æ¿ - äº§å“æŠ€æœ¯æ–¹æ¡ˆ

## 1. äº§å“å®šä½ä¸æ ¸å¿ƒåŸåˆ™

**äº§å“å®šä¹‰** ï¼šçº¯æµè§ˆå™¨ç«¯è¿è¡Œçš„åŸºé‡‘å‡€å€¼è¿½è¸ª PWA åº”ç”¨
**æ ¸å¿ƒåŸåˆ™** ï¼š

- **é›¶åç«¯** ï¼šæ— æœåŠ¡å™¨ã€æ— æ•°æ®åº“ã€æ— ç”¨æˆ·ç³»ç»Ÿ
- **å…¨æœ¬åœ°éš”ç¦»** ï¼šIndexedDB å®Œå…¨å­˜å‚¨äºç”¨æˆ·æµè§ˆå™¨ï¼Œæ•°æ®ä¸è·¨è®¾å¤‡åŒæ­¥
- **å³å¼€å³ç”¨** ï¼šé¦–æ¬¡è®¿é—®è‡ªåŠ¨åˆå§‹åŒ–ï¼Œæ— éœ€æ³¨å†Œç™»å½•
- **ç¦»çº¿ä¼˜å…ˆ** ï¼šç¼“å­˜ç­–ç•¥ç¡®ä¿å¼±ç½‘/æ— ç½‘ç¯å¢ƒä¸‹å¯æŸ¥çœ‹å†å²æ•°æ®

---

## 2. æŠ€æœ¯æ¶æ„

### 2.1 æŠ€æœ¯æ ˆé€‰å‹

**yaml**å¤åˆ¶

```yaml
æ ¸å¿ƒæ¡†æ¶: React 18 + TypeScript
æ„å»ºå·¥å…·: Vite 5 (æ”¯æŒ PWA æ’ä»¶)
çŠ¶æ€ç®¡ç†: Zustand (è½»é‡çº§ï¼Œé…åˆ IndexedDB æŒä¹…åŒ–)
å­˜å‚¨æ–¹æ¡ˆ: Dexie.js 3.x (IndexedDB çš„ Promise å°è£…)
å›¾è¡¨åº“: ECharts 5 (æ”¯æŒç¼©æ”¾ã€åå­—å…‰æ ‡ã€è‡ªå®šä¹‰ tooltip)
å›¾æ ‡åº“: RemixIcon 4.2 (ç”¨æˆ·æŒ‡å®šï¼ŒMIT åè®®ï¼Œçº¿æ€§å›¾æ ‡é£æ ¼)
æ ·å¼æ–¹æ¡ˆ: Tailwind CSS 3.4 + CSS Variables (æ·±è‰²æ¨¡å¼)
PWA: Vite-PWA-Plugin (Service Worker è‡ªåŠ¨æ³¨å…¥)
æ—¥æœŸå¤„ç†: date-fns 3.x ( tree-shaking å‹å¥½)
```

### 2.2 IndexedDB éš”ç¦»æ€§è¯´æ˜

**TypeScript**å¤åˆ¶

```typescript
// IndexedDB å¤©ç„¶éš”ç¦»æœºåˆ¶ï¼š
// 1. åŒæºç­–ç•¥ï¼šä»…é™å½“å‰åŸŸåè®¿é—®ï¼ˆå¦‚ https://fundpulse.vercel.appï¼‰
// 2. æµè§ˆå™¨éš”ç¦»ï¼šChrome ä¸ Edge æ•°æ®ä¸äº’é€š
// 3. éšç§æ¨¡å¼ï¼šæ— ç—•çª—å£ä¼šåˆ›å»ºä¸´æ—¶æ•°æ®åº“ï¼Œå…³é—­å³é”€æ¯
// 4. ç”¨æˆ·æ§åˆ¶ï¼šç”¨æˆ·å¯åœ¨æµè§ˆå™¨è®¾ç½®ä¸­"æ¸…é™¤ç½‘ç«™æ•°æ®"ä¸€é”®é‡ç½®

// æ•°æ®åº“åˆå§‹åŒ–ï¼ˆDexie å°è£…ï¼‰
const db = new Dexie("FundPulseDB");
// è¯¥æ•°æ®åº“ä»…å­˜åœ¨äºå½“å‰æµè§ˆå™¨ã€å½“å‰è®¾å¤‡ã€å½“å‰åŸŸåä¸‹
// å…¶ä»–ç”¨æˆ·/è®¾å¤‡æ— æ³•è®¿é—®ï¼Œå®ç°"æ— éœ€ç™»å½•çš„ä¸ªæ€§åŒ–"
```

---

## 3. æ•°æ®æ¶æ„è®¾è®¡

### 3.1 IndexedDB Schemaï¼ˆDexie å®šä¹‰ï¼‰

**TypeScript**å¤åˆ¶

```typescript
// db/schema.ts
import Dexie, { Table } from "dexie";

// æ•°æ®ç±»å‹å®šä¹‰
export interface UserWatchlist {
  id?: number;
  fundCode: string; // åŸºé‡‘ä»£ç ï¼ˆä¸»é”®ç´¢å¼•ï¼‰
  fundName: string; // åŸºé‡‘åç§°ï¼ˆç¼“å­˜ï¼Œå‡å°‘æŸ¥è¯¢ï¼‰
  addedAt: Date; // æ·»åŠ æ—¶é—´
  sortOrder: number; // æ‹–æ‹½æ’åºé¡ºåº
  category?: string; // åŸºé‡‘ç±»å‹ï¼ˆæ··åˆå‹ã€è‚¡ç¥¨å‹ç­‰ï¼‰
}

export interface NavHistory {
  id?: number;
  fundCode: string; // åŸºé‡‘ä»£ç 
  date: string; // å‡€å€¼æ—¥æœŸ YYYY-MM-DD
  nav: number; // å•ä½å‡€å€¼
  accNav: number; // ç´¯è®¡å‡€å€¼
  dailyGrowth?: number; // æ—¥æ¶¨è·Œå¹… %
  // å¤åˆç´¢å¼•ï¼š[fundCode+date] ç”¨äºå¿«é€ŸæŸ¥è¯¢æŸåŸºé‡‘æ—¶é—´èŒƒå›´
}

export interface FundDetail {
  fundCode: string; // ä¸»é”®
  fundName: string;
  manager: string; // åŸºé‡‘ç»ç†
  company: string; // ç®¡ç†å…¬å¸
  inceptionDate: string;
  topHoldings: Array<{
    // å‰10é‡ä»“è‚¡ï¼ˆJSON å­˜å‚¨ï¼‰
    stockCode: string;
    stockName: string;
    ratio: number; // æŒä»“å æ¯”
  }>;
  updatedAt: Date; // ç¼“å­˜æ—¶é—´æˆ³
}

export interface MarketIndex {
  code: string; // æŒ‡æ•°ä»£ç ï¼ˆHSI/IXICç­‰ï¼‰
  name: string;
  currentPrice: number;
  changePercent: number;
  updatedAt: Date;
}

export class FundPulseDB extends Dexie {
  // è¡¨å®šä¹‰
  watchlist!: Table<UserWatchlist, number>;
  navHistory!: Table<NavHistory, number>;
  fundDetails!: Table<FundDetail, string>;
  indices!: Table<MarketIndex, string>;

  constructor() {
    super("FundPulseDB");
    this.version(1).stores({
      // ç´¢å¼•å®šä¹‰
      watchlist: "++id, fundCode, sortOrder",
      navHistory: "[fundCode+date], fundCode, date", // å¤åˆç´¢å¼•ï¼šå¿«é€ŸæŸ¥æŸåŸºé‡‘æ—¥æœŸèŒƒå›´
      fundDetails: "fundCode, updatedAt",
      indices: "code, updatedAt",
    });
  }
}

export const db = new FundPulseDB();
```

### 3.2 å­˜å‚¨å®¹é‡è¯„ä¼°

**è¡¨æ ¼**å¤åˆ¶

| æ•°æ®ç±»å‹               | å•æ¡å¤§å°        | æœ€å¤§å­˜é‡        | æ€»å ç”¨                                |
| :--------------------- | :-------------- | :-------------- | :------------------------------------ |
| è‡ªé€‰åŸºé‡‘å…ƒæ•°æ®         | ~200 bytes      | 50 æ¡           | ~10 KB                                |
| å‡€å€¼å†å²ï¼ˆå•åŸºé‡‘30å¤©ï¼‰ | ~150 bytes Ã— 30 | 50 åŸºé‡‘ Ã— 30 å¤© | ~225 KB                               |
| åŸºé‡‘è¯¦æƒ…ï¼ˆå«10é‡ä»“è‚¡ï¼‰ | ~2 KB           | 50 æ¡           | ~100 KB                               |
| æŒ‡æ•°æ•°æ®               | ~100 bytes      | 10 æ¡           | ~1 KB                                 |
| **æ€»è®¡**               | -               | -               | **< 1 MB** (IndexedDB é€šå¸¸é™åˆ¶ 50MB+) |

---

## 4. æ•°æ®æºä¸ API ç­–ç•¥

### 4.1 ä¸œæ–¹è´¢å¯Œ JSONP æ¥å£ï¼ˆæ— è·¨åŸŸé™åˆ¶ï¼‰

**TypeScript**å¤åˆ¶

```typescript
// api/eastmoney.ts
// åˆ©ç”¨ JSONP ç»•è¿‡ CORSï¼Œçº¯å‰ç«¯ç›´æ¥è·å–

export const fetchFundRealtime = (code: string): Promise<RealtimeData> => {
  return new Promise((resolve, reject) => {
    const script = document.createElement("script");
    const callbackName = `jsonpgz`;

    // æ¸…ç†å¯èƒ½é—ç•™çš„å…¨å±€å‡½æ•°
    delete (window as any)[callbackName];

    // ä¸œæ–¹è´¢å¯Œè¿”å›æ ¼å¼ï¼šjsonpgz({"fundcode":"000001", "name":"åå¤æˆé•¿", "gsz":"1.2345"...})
    (window as any)[callbackName] = (data: any) => {
      document.body.removeChild(script);
      delete (window as any)[callbackName];
      resolve({
        code: data.fundcode,
        name: data.name,
        nav: data.dwjz, // æœ€æ–°å‡€å€¼
        estimateNav: data.gsz, // ä¼°ç®—å‡€å€¼ï¼ˆç›˜ä¸­å®æ—¶ï¼‰
        estimateGrowth: data.gszzl, // ä¼°ç®—æ¶¨è·Œå¹… %
        valuationTime: data.gztime, // ä¼°å€¼æ—¶é—´
      });
    };

    script.src = `http://fundgz.1234567.com.cn/js/${code}.js?rt=${Date.now()}`;
    script.onerror = () => reject(new Error("Network error"));
    document.body.appendChild(script);

    // 5ç§’è¶…æ—¶
    setTimeout(() => reject(new Error("Timeout")), 5000);
  });
};

// è·å–å†å²å‡€å€¼ï¼ˆè¿”å› JS å˜é‡ï¼Œéœ€è§£æï¼‰
export const fetchFundHistory = async (code: string) => {
  const response = await fetch(
    `http://fund.eastmoney.com/pingzhongdata/${code}.js?v=${Date.now()}`,
  );
  const text = await response.text();

  // æå– Data_netWorthTrend æ•°ç»„ï¼ˆè¿‘ä¸€å¹´æ¯æ—¥å‡€å€¼ï¼‰
  const match = text.match(/Data_netWorthTrend\s*=\s*(\[.*?\]);/);
  if (!match) throw new Error("Parse error");

  return JSON.parse(match[1]).map((item: any) => ({
    date: new Date(item.x).toISOString().split("T")[0],
    nav: item.y,
    accNav: item.y + (item.unitMoney || 0),
    dailyGrowth: item.equityReturn,
  }));
};
```

### 4.2 æŒ‡æ•°æ•°æ®æº

**TypeScript**å¤åˆ¶

```typescript
// æ–°æµª HQ æ¥å£ï¼ˆæ”¯æŒ JSONP æˆ– script æ ‡ç­¾ç›´æ¥å¼•ç”¨ï¼‰
export const fetchIndexData = (code: string) => {
  // æ–°æµªæ ¼å¼ï¼šhttps://hq.sinajs.cn/list=sh000001ï¼ˆä¸Šè¯æŒ‡æ•°ï¼‰
  return fetch(`https://hq.sinajs.cn/list=${code}`, {
    mode: "no-cors", // å…è®¸ opaque responseï¼Œè™½ç„¶ä¸èƒ½è¯»å–ä½†å¯ç¼“å­˜ï¼ˆæˆ–æ”¹ç”¨ JSONP ä»£ç†ï¼‰
  });
};
```

---

## 5. UI/UX è®¾è®¡ç³»ç»Ÿ

### 5.1 è®¾è®¡æ¦‚å¿µï¼šã€Œæ·±ç©ºé‡‘èã€

**è®¾è®¡ç†å¿µ** ï¼š
èåˆå¤ªç©ºç§‘æŠ€çš„æ·±é‚ƒæ„Ÿä¸é‡‘èæ•°æ®çš„ä¸“ä¸šæ€§ï¼Œè¥é€ "é©¾é©¶èˆ±"çº§åˆ«çš„æ•°æ®æŒæ§ä½“éªŒã€‚é‡‡ç”¨**ç»ç’ƒæ‹Ÿæ€ï¼ˆGlassmorphismï¼‰** layered on **æ·±ç©ºæš—è‰²èƒŒæ™¯** ï¼Œåˆ›é€ å±‚æ¬¡åˆ†æ˜çš„ä¿¡æ¯æ¶æ„ã€‚

**æ ¸å¿ƒç‰¹å¾** ï¼š

- **æ·±ç©ºèƒŒæ™¯** ï¼šæ¨¡æ‹Ÿå¤ªç©ºè§‚æµ‹ç«™çš„æ·±è‰²ç¯å¢ƒï¼Œå‡å°‘çœ¼éƒ¨ç–²åŠ³ï¼Œçªå‡ºæ•°æ®å†…å®¹
- **ç»ç’ƒå±‚å ** ï¼šåŠé€æ˜æ¯›ç»ç’ƒæ•ˆæœè¥é€ ç©ºé—´æ·±åº¦ï¼ŒåŒºåˆ†ä¿¡æ¯å±‚çº§
- **å…‰å­æµåŠ¨** ï¼šæ•°æ®æ›´æ–°æ—¶çš„å…‰æ•ˆæµåŠ¨æ„Ÿï¼Œä½“ç°å®æ—¶æ€§
- **é‡åŠ›æ’ç‰ˆ** ï¼šé‡è¦æ•°æ®å¤§è€Œé‡ï¼Œæ¬¡è¦ä¿¡æ¯è½»è€Œå°

### 5.2 è‰²å½©ç³»ç»Ÿ

**css**å¤åˆ¶

```css
:root {
  /* èƒŒæ™¯å±‚çº§ - æ·±ç©ºæ¸å˜ */
  --bg-universe: #020617; /* æœ€æ·±èƒŒæ™¯ï¼ˆå®‡å®™é»‘ï¼‰ */
  --bg-deep: #0b1220; /* ä¸»èƒŒæ™¯ï¼ˆæ·±ç©ºè“ï¼‰ */
  --bg-elevated: rgba(30, 41, 59, 0.4); /* å¡ç‰‡èƒŒæ™¯ï¼ˆç»ç’ƒå±‚ï¼‰ */
  --bg-floating: rgba(51, 65, 85, 0.6); /* æ‚¬æµ®å…ƒç´ ï¼ˆæ›´é«˜å±‚çº§ï¼‰ */

  /* è¾¹æ¡†ä¸åˆ†éš” */
  --border-subtle: rgba(148, 163, 184, 0.1); /* å¾®å¦™åˆ†éš” */
  --border-glow: rgba(59, 130, 246, 0.3); /* è“è‰²è¾‰å…‰ï¼ˆæ¿€æ´»çŠ¶æ€ï¼‰ */
  --border-accent: rgba(99, 102, 241, 0.5); /* å¼ºè°ƒè¾¹æ¡†ï¼ˆé€‰ä¸­æ€ï¼‰ */

  /* åŠŸèƒ½è‰² - é‡‘èè¯­ä¹‰ */
  --up-primary: #ff6b6b; /* ä¸Šæ¶¨ - ä¸­å›½çº¢ï¼ˆæ·±è‰²èƒŒæ™¯ç”¨é«˜é¥±å’Œï¼‰ */
  --up-glow: rgba(255, 107, 107, 0.4); /* çº¢è‰²è¾‰å…‰ */
  --down-primary: #4ade80; /* ä¸‹è·Œ - ç§‘æŠ€ç»¿ï¼ˆåå¸¸è¯†è®¾è®¡ï¼Œæ·±è‰²èƒŒæ™¯ç»¿æ›´é†’ç›®ï¼‰ */
  --down-glow: rgba(74, 222, 128, 0.4); /* ç»¿è‰²è¾‰å…‰ */

  /* å¼ºè°ƒè‰² - äº¤äº’ */
  --accent-blue: #3b82f6; /* ä¸»æŒ‰é’®/é“¾æ¥ */
  --accent-purple: #8b5cf6; /* ç‰¹æ®Šå¼ºè°ƒï¼ˆVIP/ProåŠŸèƒ½ï¼‰ */
  --accent-cyan: #06b6d4; /* å®æ—¶æŒ‡ç¤º/è„‰å†² */

  /* æ–‡å­—å±‚çº§ */
  --text-primary: #f8fafc; /* ä¸»æ–‡å­— - è¿‘ç™½ï¼ˆ95%é€æ˜åº¦ï¼‰ */
  --text-secondary: #94a3b8; /* æ¬¡è¦æ–‡å­— - æ˜Ÿå°˜ç°ï¼ˆ60%é€æ˜åº¦ï¼‰ */
  --text-tertiary: #64748b; /* è¾…åŠ©æ–‡å­— - æ·±ç©ºç°ï¼ˆ40%é€æ˜åº¦ï¼‰ */
  --text-muted: #475569; /* ç¦ç”¨çŠ¶æ€ - é™¨çŸ³ç° */

  /* æ•°æ®å¯è§†åŒ– */
  --chart-line: #60a5fa; /* å‡€å€¼æ›²çº¿ - å¤©è“ */
  --chart-area-top: rgba(96, 165, 250, 0.3); /* é¢ç§¯å›¾æ¸å˜ä¸Š */
  --chart-area-bottom: rgba(96, 165, 250, 0); /* é¢ç§¯å›¾æ¸å˜ä¸‹ */
  --chart-grid: rgba(148, 163, 184, 0.1); /* ç½‘æ ¼çº¿ */
}
```

### 5.3 å­—ä½“ä¸æ’ç‰ˆ

**å­—ä½“æ ˆ** ï¼š

**css**å¤åˆ¶

```css
/* æ•°å­—ä¸é‡‘é¢ï¼ˆç­‰å®½ï¼Œå¯¹é½å°æ•°ç‚¹ï¼‰ */
--font-mono: "JetBrains Mono", "Fira Code", "SF Mono", monospace;

/* æ ‡é¢˜ä¸æ­£æ–‡ï¼ˆç°ä»£æ— è¡¬çº¿ï¼‰ */
--font-sans:
  "Inter", "SF Pro Display", -apple-system, BlinkMacSystemFont, sans-serif;

/* ä¸­æ–‡ä¼˜åŒ–ï¼ˆç³»ç»Ÿå­—ä½“å›é€€ï¼‰ */
--font-zh: "PingFang SC", "Microsoft YaHei", "Noto Sans SC", sans-serif;
```

**æ’ç‰ˆè§„èŒƒ** ï¼š

**è¡¨æ ¼**å¤åˆ¶

| å…ƒç´          | å­—ä½“           | å¤§å° | å­—é‡ | ç”¨é€”                 |
| :----------- | :------------- | :--- | :--- | :------------------- |
| **åŸºé‡‘åç§°** | System Sans    | 16px | 600  | å¡ç‰‡æ ‡é¢˜             |
| **å‡€å€¼æ•°å­—** | JetBrains Mono | 28px | 700  | æ ¸å¿ƒæ•°æ®ï¼ˆç­‰å®½å¯¹é½ï¼‰ |
| **æ¶¨è·Œå¹…**   | JetBrains Mono | 14px | 600  | çº¢ç»¿æ ‡ç­¾             |
| **æŒ‡æ•°ä»·æ ¼** | JetBrains Mono | 20px | 700  | é¡¶éƒ¨æ»šåŠ¨æ¡           |
| **è¾…åŠ©æ–‡å­—** | System Sans    | 12px | 400  | æ—¥æœŸã€ä»£ç            |

### 5.4 RemixIcon å›¾æ ‡ç³»ç»Ÿ

ä½¿ç”¨ **RemixIcon** çº¿æ€§é£æ ¼ï¼ˆ`line` åç¼€ï¼‰ï¼Œä¿æŒè§†è§‰è½»ç›ˆï¼š

**HTML**é¢„è§ˆ

å¤åˆ¶

```html
<!-- CDN å¼•å…¥ -->
<link
  href="https://cdn.jsdelivr.net/npm/remixicon@4.2.0/fonts/remixicon.css"
  rel="stylesheet"
/>
```

**å›¾æ ‡æ˜ å°„è¡¨** ï¼š

**è¡¨æ ¼**å¤åˆ¶

| åŠŸèƒ½åœºæ™¯      | å›¾æ ‡ç±»å                       | å°ºå¯¸ | é¢œè‰²                           |
| :------------ | :----------------------------- | :--- | :----------------------------- |
| **Logo/å“ç‰Œ** | `ri-bar-chart-grouped-line`    | 24px | `--accent-blue`                |
| **æ·»åŠ è‡ªé€‰**  | `ri-add-circle-line`           | 20px | `--accent-cyan`                |
| **åˆ é™¤æ“ä½œ**  | `ri-delete-bin-6-line`         | 18px | `--text-secondary`ï¼ˆæ‚¬åœå˜çº¢ï¼‰ |
| **å®æ—¶è„‰å†²**  | `ri-pulse-line`                | 16px | `--accent-cyan`ï¼ˆå‘¼å¸åŠ¨ç”»ï¼‰    |
| **èµ°åŠ¿å›¾è¡¨**  | `ri-line-chart-line`           | 18px | `--text-secondary`             |
| **é‡ä»“è‚¡ç¥¨**  | `ri-stack-line`                | 18px | `--text-secondary`             |
| **æœç´¢**      | `ri-search-2-line`             | 20px | `--text-secondary`             |
| **åˆ·æ–°æ•°æ®**  | `ri-refresh-line`              | 18px | `--text-secondary`ï¼ˆæ—‹è½¬åŠ¨ç”»ï¼‰ |
| **è®¾ç½®**      | `ri-settings-3-line`           | 20px | `--text-secondary`             |
| **å¤œé—´æ¨¡å¼**  | `ri-moon-line` / `ri-sun-line` | 20px | `--text-secondary`             |
| **ç©ºçŠ¶æ€**    | `ri-inbox-2-line`              | 48px | `--text-muted`                 |
| **è¶‹åŠ¿å‘ä¸Š**  | `ri-arrow-up-line`             | 12px | `--up-primary`                 |
| **è¶‹åŠ¿å‘ä¸‹**  | `ri-arrow-down-line`           | 12px | `--down-primary`               |
| **èœå•/æ›´å¤š** | `ri-more-2-line`               | 18px | `--text-secondary`             |
| **è¿”å›**      | `ri-arrow-left-line`           | 24px | `--text-primary`               |

### 5.5 ç»„ä»¶è®¾è®¡è§„èŒƒ

#### 5.5.1 ç»ç’ƒå¡ç‰‡ï¼ˆGlass Cardï¼‰

**css**å¤åˆ¶

```css
.glass-card {
  background: linear-gradient(
    135deg,
    rgba(255, 255, 255, 0.05) 0%,
    rgba(255, 255, 255, 0.01) 100%
  );
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid rgba(255, 255, 255, 0.1);
  border-radius: 16px;
  box-shadow:
    0 4px 6px -1px rgba(0, 0, 0, 0.1),
    0 2px 4px -1px rgba(0, 0, 0, 0.06),
    inset 0 1px 0 rgba(255, 255, 255, 0.05);
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

.glass-card:hover {
  border-color: rgba(99, 102, 241, 0.4);
  box-shadow:
    0 20px 25px -5px rgba(0, 0, 0, 0.2),
    0 10px 10px -5px rgba(0, 0, 0, 0.1),
    0 0 0 1px rgba(99, 102, 241, 0.2);
  transform: translateY(-2px);
}

/* æ¿€æ´»æ€ï¼ˆé€‰ä¸­åŸºé‡‘ï¼‰ */
.glass-card.active {
  border-color: rgba(59, 130, 246, 0.6);
  background: linear-gradient(
    135deg,
    rgba(59, 130, 246, 0.1) 0%,
    rgba(59, 130, 246, 0.02) 100%
  );
  box-shadow: 0 0 20px rgba(59, 130, 246, 0.2);
}
```

#### 5.5.2 åŸºé‡‘åˆ—è¡¨é¡¹

å¤åˆ¶

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ [å›¾æ ‡] åŸºé‡‘åç§°                [åˆ é™¤] â”‚
â”‚ 000001 åå¤æˆé•¿æ··åˆ                   â”‚
â”‚                                     â”‚
â”‚ Â¥1.2345    â†‘ 2.34%    [å®æ—¶å‘¼å¸ç‚¹]   â”‚
â”‚ å‡€å€¼        ä¼°å€¼æ¶¨å¹…      14:30æ›´æ–°   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**äº¤äº’ç»†èŠ‚** ï¼š

- **æ‚¬åœ** ï¼šå¡ç‰‡ä¸Šæµ® + è¾¹æ¡†é«˜äº®ï¼ˆ`--border-glow`ï¼‰
- **é€‰ä¸­** ï¼šå·¦ä¾§ 4px è“è‰²å…‰æ¡ï¼ˆ`box-shadow: inset 4px 0 0 var(--accent-blue)`ï¼‰
- **å®æ—¶æŒ‡ç¤º** ï¼šå³ä¸Šè§’ç»¿è‰²å‘¼å¸ç¯ï¼ˆCSS animation: pulse 2s infiniteï¼‰
- **åˆ é™¤** ï¼šå·¦æ»‘æˆ–é•¿æŒ‰å‡ºç°åˆ é™¤æŒ‰é’®ï¼ˆç§»åŠ¨ç«¯ï¼‰ï¼Œæ¡Œé¢ç«¯æ‚¬åœæ˜¾ç¤ºåƒåœ¾æ¡¶å›¾æ ‡

#### 5.5.3 å‡€å€¼èµ°åŠ¿å›¾è¡¨ï¼ˆECharts ä¸»é¢˜é…ç½®ï¼‰

**JavaScript**å¤åˆ¶

```javascript
const chartTheme = {
  backgroundColor: "transparent",
  grid: {
    top: 40,
    left: 16,
    right: 16,
    bottom: 16,
    containLabel: true,
  },
  xAxis: {
    type: "time",
    axisLine: { show: false },
    axisTick: { show: false },
    axisLabel: { color: "var(--text-tertiary)", fontSize: 11 },
    splitLine: { show: false },
  },
  yAxis: {
    type: "value",
    scale: true, // ä¸ä»0å¼€å§‹ï¼Œçªå‡ºæ³¢åŠ¨
    axisLine: { show: false },
    axisTick: { show: false },
    axisLabel: {
      color: "var(--text-secondary)",
      fontFamily: "JetBrains Mono",
      fontSize: 11,
      formatter: (val) => val.toFixed(2),
    },
    splitLine: {
      lineStyle: { color: "var(--chart-grid)", type: "dashed" },
    },
  },
  series: [
    {
      type: "line",
      smooth: true,
      symbol: "none",
      lineStyle: {
        width: 3,
        color: "var(--chart-line)",
        shadowColor: "rgba(96, 165, 250, 0.5)",
        shadowBlur: 10,
      },
      areaStyle: {
        color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [
          { offset: 0, color: "var(--chart-area-top)" },
          { offset: 1, color: "var(--chart-area-bottom)" },
        ]),
      },
      // åå­—å…‰æ ‡æŒ‡ç¤ºå™¨
      markLine: {
        symbol: "none",
        lineStyle: { color: "var(--text-secondary)", type: "solid", width: 1 },
        label: {
          show: true,
          position: "end",
          backgroundColor: "var(--bg-floating)",
          color: "var(--text-primary)",
          padding: [4, 8],
          borderRadius: 4,
        },
      },
    },
  ],
  tooltip: {
    backgroundColor: "rgba(15, 23, 42, 0.9)",
    borderColor: "rgba(99, 102, 241, 0.3)",
    textStyle: { color: "var(--text-primary)", fontFamily: "JetBrains Mono" },
    padding: 12,
    borderRadius: 8,
    backdropFilter: "blur(10px)",
  },
};
```

### 5.6 åŠ¨ç”»ä¸å¾®äº¤äº’

#### 5.6.1 å®æ—¶æ•°æ®åˆ·æ–°åŠ¨ç”»

**css**å¤åˆ¶

```css
/* æ•°å­—è·³åŠ¨åŠ¨ç”»ï¼ˆå‡€å€¼æ›´æ–°æ—¶ï¼‰ */
@keyframes number-flash {
  0% {
    transform: scale(1);
    color: var(--text-primary);
  }
  50% {
    transform: scale(1.05);
    color: var(--accent-cyan);
    text-shadow: 0 0 10px var(--accent-cyan);
  }
  100% {
    transform: scale(1);
    color: var(--text-primary);
  }
}

.value-updating {
  animation: number-flash 0.3s ease-out;
}

/* å‘¼å¸ç¯ï¼ˆå®æ—¶æŒ‡ç¤ºï¼‰ */
@keyframes breathe {
  0%,
  100% {
    opacity: 0.4;
    transform: scale(0.8);
    box-shadow: 0 0 0 0 rgba(74, 222, 128, 0.4);
  }
  50% {
    opacity: 1;
    transform: scale(1);
    box-shadow: 0 0 0 8px rgba(74, 222, 128, 0);
  }
}

.live-indicator {
  width: 6px;
  height: 6px;
  background: var(--down-primary);
  border-radius: 50%;
  animation: breathe 2s ease-in-out infinite;
}

/* æ—‹è½¬åˆ·æ–°å›¾æ ‡ */
@keyframes spin {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}

.refreshing {
  animation: spin 1s linear infinite;
}
```

#### 5.6.2 é¡µé¢è½¬åœº

**css**å¤åˆ¶

```css
/* è·¯ç”±åˆ‡æ¢æ·¡å…¥æ·¡å‡º */
.page-enter {
  opacity: 0;
  transform: translateY(10px);
}
.page-enter-active {
  opacity: 1;
  transform: translateY(0);
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

/* åˆ—è¡¨é¡¹äº¤é”™å‡ºç° */
.list-item {
  opacity: 0;
  transform: translateX(-20px);
  animation: slide-in 0.4s ease-out forwards;
}

.list-item:nth-child(1) {
  animation-delay: 0.05s;
}
.list-item:nth-child(2) {
  animation-delay: 0.1s;
}
.list-item:nth-child(3) {
  animation-delay: 0.15s;
}
/* ... */
```

#### 5.6.3 åŠ è½½çŠ¶æ€ï¼ˆéª¨æ¶å±ï¼‰

**css**å¤åˆ¶

```css
.skeleton {
  background: linear-gradient(
    90deg,
    rgba(255, 255, 255, 0.03) 25%,
    rgba(255, 255, 255, 0.08) 50%,
    rgba(255, 255, 255, 0.03) 75%
  );
  background-size: 200% 100%;
  animation: shimmer 1.5s infinite;
  border-radius: 4px;
}

@keyframes shimmer {
  0% {
    background-position: 200% 0;
  }
  100% {
    background-position: -200% 0;
  }
}
```

### 5.7 é¡µé¢å¸ƒå±€è¯¦ç»†è®¾è®¡

#### 5.7.1 é¦–é¡µï¼ˆDashboardï¼‰

å¤åˆ¶

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  é¡¶éƒ¨å¯¼èˆªæ ï¼ˆGlass Effectï¼Œé«˜åº¦ 64pxï¼Œå›ºå®šå®šä½ï¼‰                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ [ri-bar-chart-grouped-line] FundPulse         [æœç´¢] [ä¸»é¢˜] [è®¾ç½®]     â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  æŒ‡æ•°æ»šåŠ¨æ¡ï¼ˆé«˜åº¦ 56pxï¼Œæ¨ªå‘æ»šåŠ¨ï¼Œéšè—æ»šåŠ¨æ¡ï¼‰                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  ğŸ‡­ğŸ‡° æ’ç”ŸæŒ‡æ•°  21,045.32  â–²1.24%  â”‚  ğŸ‡ºğŸ‡¸ çº³æ–¯è¾¾å…‹  18,234.67  â–¼0.56%  â”‚  â”‚
â”‚  â”‚  ç»ç’ƒèƒ¶å›Šæ ·å¼ï¼Œæ‚¬åœæ”¾å¤§1.05å€                                           â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ä¸»å†…å®¹åŒºï¼ˆGrid å¸ƒå±€ï¼Œé—´è· 24pxï¼‰                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                          â”‚                                          â”‚   â”‚
â”‚  â”‚   è‡ªé€‰åŸºé‡‘åˆ—è¡¨            â”‚           å‡€å€¼èµ°åŠ¿å›¾ï¼ˆEChartsï¼‰            â”‚   â”‚
â”‚  â”‚   ï¼ˆå®½åº¦ 360pxï¼Œå›ºå®šï¼‰     â”‚           ï¼ˆè‡ªé€‚åº”å‰©ä½™å®½åº¦ï¼‰                â”‚   â”‚
â”‚  â”‚                          â”‚                                          â”‚   â”‚
â”‚  â”‚   [+ æ·»åŠ åŸºé‡‘]            â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚   â”‚
â”‚  â”‚   ç»ç’ƒæŒ‰é’®ï¼Œå¸¦è¾‰å…‰          â”‚   â”‚                                  â”‚  â”‚   â”‚
â”‚  â”‚                          â”‚   â”‚    é¢ç§¯å›¾ï¼Œæ¸å˜å¡«å……                  â”‚  â”‚   â”‚
â”‚  â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚   â”‚    ç½‘æ ¼çº¿è™šçº¿ï¼Œæ—¶é—´è½´                â”‚  â”‚   â”‚
â”‚  â”‚   â”‚ 000001           â”‚   â”‚   â”‚    åå­—å…‰æ ‡è·Ÿéšé¼ æ ‡                  â”‚  â”‚   â”‚
â”‚  â”‚   â”‚ åå¤æˆé•¿æ··åˆ      â”‚   â”‚   â”‚                                  â”‚  â”‚   â”‚
â”‚  â”‚   â”‚ Â¥1.2345 â†‘2.34%   â”‚   â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚   â”‚
â”‚  â”‚   â”‚ [å‘¼å¸ç‚¹] å®æ—¶     â”‚   â”‚                                          â”‚   â”‚
â”‚  â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚   [1æœˆ] [3æœˆ] [6æœˆ] [1å¹´] [ä»Šå¹´] [æˆç«‹æ¥]   â”‚   â”‚
â”‚  â”‚   ï¼ˆé€‰ä¸­æ€ï¼šè“è‰²å·¦è¾¹æ¡†ï¼‰    â”‚   åˆ†æ®µæ§åˆ¶å™¨ï¼Œé€‰ä¸­è“è‰²èƒŒæ™¯                â”‚   â”‚
â”‚  â”‚                          â”‚                                          â”‚   â”‚
â”‚  â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚  â”‚   â”‚ 110011           â”‚   â”‚          åŸºé‡‘å…³é”®æŒ‡æ ‡ï¼ˆæ¨ªå‘æ’å¸ƒï¼‰           â”‚   â”‚
â”‚  â”‚   â”‚ æ˜“æ–¹è¾¾ä¼˜è´¨ç²¾é€‰    â”‚   â”‚   å•ä½å‡€å€¼ â”‚ ç´¯è®¡å‡€å€¼ â”‚ æ—¥æ¶¨ â”‚ è¿‘1æœˆ â”‚ è¿‘1å¹´  â”‚   â”‚
â”‚  â”‚   â”‚ Â¥2.4567 â–¼1.23%   â”‚   â”‚   1.2345  â”‚  3.4567  â”‚ 2.34%â”‚ 5.67% â”‚ 12.3% â”‚   â”‚
â”‚  â”‚   â”‚                  â”‚   â”‚   ï¼ˆç­‰å®½å­—ä½“å¯¹é½ï¼Œæ¶¨çº¢è·Œç»¿ï¼‰                â”‚   â”‚
â”‚  â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚                                          â”‚   â”‚
â”‚  â”‚                          â”‚                                          â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                             â”‚
â”‚  åº•éƒ¨é‡ä»“è‚¡åŒºåŸŸï¼ˆé«˜åº¦ 160pxï¼Œ Glass Cardï¼‰                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  å‰åå¤§é‡ä»“è‚¡  [ri-stack-line]                                         â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                 â”‚  â”‚
â”‚  â”‚  â”‚ è´µå·èŒ…å°  â”‚ â”‚ å®å¾·æ—¶ä»£  â”‚ â”‚ äº”ç²®æ¶²    â”‚ â”‚ æ¯”äºšè¿ª    â”‚ ... æ¨ªå‘æ»šåŠ¨   â”‚  â”‚
â”‚  â”‚  â”‚ 8.45%    â”‚ â”‚ 6.32%    â”‚ â”‚ 5.18%    â”‚ â”‚ 4.92%    â”‚                 â”‚  â”‚
â”‚  â”‚  â”‚ â–²2.1%    â”‚ â”‚ â–¼1.2%    â”‚ â”‚ â–²0.8%    â”‚ â”‚ â–²3.4%    â”‚                 â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                 â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### 5.7.2 æ·»åŠ åŸºé‡‘å¼¹çª—ï¼ˆModalï¼‰

å¤åˆ¶

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  æ·»åŠ è‡ªé€‰åŸºé‡‘              [Xå…³é—­]   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  [ğŸ” æœç´¢åŸºé‡‘åç§°æˆ–ä»£ç ...]         â”‚
â”‚                                     â”‚
â”‚  çƒ­é—¨åŸºé‡‘ï¼ˆå¯ç‚¹å‡»ç›´æ¥æ·»åŠ ï¼‰           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ ğŸ† 005827 æ˜“æ–¹è¾¾è“ç­¹ç²¾é€‰       â”‚ â”‚
â”‚  â”‚    å¼ å¤ â”‚ æ··åˆå‹ â”‚ æ˜¨æ—¥ +2.1%  â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ ğŸ¶ 161725 æ‹›å•†ä¸­è¯ç™½é…’æŒ‡æ•°     â”‚ â”‚
â”‚  â”‚    ä¾¯æ˜Š â”‚ æŒ‡æ•°å‹ â”‚ æ˜¨æ—¥ +1.8%  â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                     â”‚
â”‚  æœ€è¿‘æµè§ˆ                           â”‚
â”‚  [æœ€è¿‘æŸ¥çœ‹è¿‡çš„åŸºé‡‘ï¼Œæ–¹ä¾¿é‡æ–°æ·»åŠ ]      â”‚
â”‚                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### 5.7.3 ç©ºçŠ¶æ€è®¾è®¡ï¼ˆé¦–æ¬¡è®¿é—®æ— è‡ªé€‰ï¼‰

å¤åˆ¶

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                     â”‚
â”‚           [ri-inbox-2-line]         â”‚
â”‚              (48px, ç°è‰²)           â”‚
â”‚                                     â”‚
â”‚         æš‚æ— è‡ªé€‰åŸºé‡‘                  â”‚
â”‚   ç‚¹å‡»å³ä¸Šè§’ + æ·»åŠ æ‚¨å…³æ³¨çš„åŸºé‡‘        â”‚
â”‚                                     â”‚
â”‚      [+ æ·»åŠ ç¬¬ä¸€ä¸ªåŸºé‡‘]               â”‚
â”‚      ï¼ˆè“è‰²æ¸å˜æŒ‰é’®ï¼Œå¸¦å¾®åŠ¨æ•ˆï¼‰        â”‚
â”‚                                     â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚   â”‚    æ¨èå…³æ³¨ï¼ˆçƒ­é—¨åŸºé‡‘ï¼‰        â”‚   â”‚
â”‚   â”‚  [ç™½é…’] [æ–°èƒ½æº] [åŒ»è¯] [ç§‘æŠ€] â”‚   â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 5.8 å“åº”å¼é€‚é…

#### 5.8.1 ç§»åŠ¨ç«¯ï¼ˆ< 768pxï¼‰å¸ƒå±€è°ƒæ•´

- **å¸ƒå±€** ï¼šå•åˆ—å¸ƒå±€ï¼Œä¾§è¾¹æ å˜ä¸ºåº•éƒ¨ Sheet æˆ–ç‹¬ç«‹é¡µé¢
- **æŒ‡æ•°æ¡** ï¼šæ°´å¹³æ»šåŠ¨ï¼Œæ˜¾ç¤º 2-3 ä¸ªä¸»è¦æŒ‡æ•°
- **å›¾è¡¨é«˜åº¦** ï¼šé™ä½è‡³ 240pxï¼Œæ”¯æŒæ‰‹åŠ¿ç¼©æ”¾ï¼ˆECharts dataZoomï¼‰
- **æ“ä½œ** ï¼šé•¿æŒ‰åŸºé‡‘é¡¹å¼¹å‡ºæ“ä½œèœå•ï¼ˆåˆ é™¤ã€ç½®é¡¶ï¼‰
- **å¯¼èˆª** ï¼šåº•éƒ¨ Tab Barï¼ˆè‡ªé€‰ã€å¸‚åœºã€è®¾ç½®ï¼‰

**css**å¤åˆ¶

```css
/* ç§»åŠ¨ç«¯ä¼˜åŒ– */
@media (max-width: 768px) {
  .fund-card {
    padding: 12px;
    margin-bottom: 8px;
  }

  .nav-value {
    font-size: 20px; /* å‡å°å­—å· */
  }

  /* åº•éƒ¨å›ºå®šæ“ä½œæ  */
  .mobile-actions {
    position: fixed;
    bottom: 0;
    left: 0;
    right: 0;
    background: var(--bg-deep);
    border-top: 1px solid var(--border-subtle);
    padding: 12px 16px calc(12px + env(safe-area-inset-bottom));
  }
}
```

#### 5.8.2 å¹³æ¿ï¼ˆ768px - 1024pxï¼‰

- ä¿æŒåŒæ å¸ƒå±€ï¼Œä½†æ¯”ä¾‹è°ƒæ•´ä¸º 1:1
- å›¾è¡¨æ˜¾ç¤ºæ›´å¤šä¿¡æ¯å¯†åº¦

### 5.9 æ·±è‰²/æµ…è‰²æ¨¡å¼åˆ‡æ¢

**TypeScript**å¤åˆ¶

```typescript
// æ”¯æŒè·Ÿéšç³»ç»Ÿæˆ–æ‰‹åŠ¨åˆ‡æ¢
const themeConfig = {
  dark: {
    bg: "#0b1220",
    card: "rgba(30, 41, 59, 0.4)",
    text: "#f8fafc",
    up: "#ff6b6b", // çº¢æ¶¨
    down: "#4ade80", // ç»¿è·Œ
  },
  light: {
    bg: "#f1f5f9",
    card: "rgba(255, 255, 255, 0.8)",
    text: "#0f172a",
    up: "#dc2626", // çº¢æ¶¨ï¼ˆæ›´æ·±ï¼‰
    down: "#16a34a", // ç»¿è·Œï¼ˆæ›´æ·±ï¼‰
  },
};
```

---

## 6. åŠŸèƒ½æ¨¡å—è®¾è®¡

### 6.1 æ ¸å¿ƒåŠŸèƒ½æµç¨‹

å¤åˆ¶

```
ç”¨æˆ·é¦–æ¬¡è®¿é—®
  â””â”€> åˆå§‹åŒ– IndexedDB
  â””â”€> å±•ç¤ºé»˜è®¤çƒ­é—¨åŸºé‡‘ï¼ˆç¡¬ç¼–ç  Top 10ï¼‰
  â””â”€> åå°é™é»˜æ‹‰å–æŒ‡æ•°æ•°æ®ï¼ˆç¼“å­˜åˆ° IndexedDBï¼‰

ç”¨æˆ·æ·»åŠ è‡ªé€‰
  â””â”€> è¾“å…¥åŸºé‡‘ä»£ç ï¼ˆå¦‚ 000001ï¼‰
  â””â”€> è°ƒç”¨ä¸œæ–¹è´¢å¯Œ API éªŒè¯ä»£ç æœ‰æ•ˆæ€§
  â””â”€> å†™å…¥ watchlist è¡¨
  â””â”€> ç«‹å³æ‹‰å– 30 æ—¥å‡€å€¼å†å²å­˜å…¥ navHistory è¡¨

æŸ¥çœ‹è¯¦æƒ…é¡µ
  â””â”€> ä¼˜å…ˆè¯»å–æœ¬åœ° navHistoryï¼ˆç§’å¼€ï¼Œæ— loadingï¼‰
  â””â”€> åå°å¯¹æ¯”æœ€æ–°æ—¥æœŸï¼Œå¦‚æœ‰æ›´æ–°åˆ™å¢é‡è¡¥å……ï¼ˆé™é»˜ï¼‰
  â””â”€> ç»˜åˆ¶ ECharts é¢ç§¯å›¾ï¼ˆæ”¯æŒç¼©æ”¾ï¼‰
  â””â”€> è¯»å– fundDetails è¡¨å±•ç¤ºé‡ä»“è‚¡ï¼ˆæ¨ªå‘æ»šåŠ¨å¡ç‰‡ï¼‰
```

### 6.2 æ™ºèƒ½ç¼“å­˜æ›´æ–°æœºåˆ¶

**TypeScript**å¤åˆ¶

```typescript
// services/syncService.ts
export class DataSyncManager {
  // åˆ·æ–°ç­–ç•¥é…ç½®
  private strategies = {
    // å®æ—¶ä¼°å€¼ï¼šäº¤æ˜“æ—¶æ®µæ¯30ç§’ï¼Œéäº¤æ˜“æ—¶æ®µæ¯5åˆ†é’Ÿ
    realtime: {
      condition: () => this.isTradingHours(),
      interval: 30 * 1000,
      fallbackInterval: 5 * 60 * 1000,
    },
    // å†å²å‡€å€¼ï¼šæ¯æ—¥16:00åæ£€æŸ¥æ›´æ–°ï¼ˆä¸€å¤©ä¸€æ¬¡ï¼‰
    history: {
      maxAge: 24 * 60 * 60 * 1000, // 24å°æ—¶
      updateTime: "16:00", // æ”¶ç›˜å
    },
  };

  // é¦–æ¬¡åŠ è½½ï¼šå…ˆè¯» IndexedDB å±•ç¤ºç¼“å­˜ï¼Œå†åå°æ›´æ–°
  async initLoad(fundCode: string) {
    // 1. ç«‹å³è¿”å›æœ¬åœ°ç¼“å­˜ï¼ˆç§’å¼€ä½“éªŒï¼‰
    const localData = await db.navHistory
      .where("fundCode")
      .equals(fundCode)
      .reverse() // æ—¶é—´å€’åº
      .limit(30)
      .toArray();

    // 2. æ£€æŸ¥æ˜¯å¦éœ€è¦æ›´æ–°
    const lastUpdate = localData[0]?.date;
    const needsUpdate = !lastUpdate || lastUpdate !== this.getTodayStr();

    if (needsUpdate) {
      // 3. åå°é™é»˜æ‹‰å–ï¼ˆä¸é˜»å¡ UIï¼‰
      this.backgroundSync(fundCode);
    }

    return localData;
  }

  private async backgroundSync(fundCode: string) {
    try {
      const remoteData = await fetchFundHistory(fundCode);
      // å¢é‡æ›´æ–°ï¼šåªæ’å…¥ä¸å­˜åœ¨çš„æ—¥æœŸ
      await db.navHistory.bulkAdd(remoteData);
    } catch (e) {
      console.log("åå°åŒæ­¥å¤±è´¥ï¼Œä¸‹æ¬¡é‡è¯•");
    }
  }
}
```

### 6.3 ç¦»çº¿ä½“éªŒè®¾è®¡

**TypeScript**å¤åˆ¶

```typescript
// ç¦»çº¿æ£€æµ‹ä¸æç¤º
window.addEventListener("offline", () => {
  toast.info("è¿›å…¥ç¦»çº¿æ¨¡å¼ï¼Œæ˜¾ç¤ºç¼“å­˜æ•°æ®", { icon: "ri-wifi-off-line" });
});

// æ‰€æœ‰ API è°ƒç”¨å°è£…ï¼Œè‡ªåŠ¨é™çº§åˆ°æœ¬åœ°
export const apiWithFallback = async (fundCode: string) => {
  try {
    if (!navigator.onLine) throw new Error("Offline");
    return await fetchFundRealtime(fundCode);
  } catch (error) {
    // ç½‘ç»œé”™è¯¯æ—¶è¿”å› IndexedDB ç¼“å­˜çš„æœ€åå·²çŸ¥æ•°æ®
    const cached = await db.navHistory
      .where("fundCode")
      .equals(fundCode)
      .last();

    if (cached) {
      return { ...cached, isOffline: true, stale: true };
    }
    throw error;
  }
};
```

---

## 7. éƒ¨ç½²ä¸æ€§èƒ½ä¼˜åŒ–

### 7.1 æ„å»ºé…ç½®ï¼ˆViteï¼‰

**TypeScript**å¤åˆ¶

```typescript
// vite.config.ts
import { defineConfig } from "vite";
import react from "@vitejs/plugin-react";
import { VitePWA } from "vite-plugin-pwa";

export default defineConfig({
  plugins: [
    react(),
    VitePWA({
      registerType: "autoUpdate",
      workbox: {
        globPatterns: ["**/*.{js,css,html,ico,png,svg}"],
        runtimeCaching: [
          {
            // ç¼“å­˜ API å“åº”ï¼ˆstale-while-revalidate ç­–ç•¥ï¼‰
            urlPattern: /^https:\/\/fundgz\.1234567\.com\.cn/,
            handler: "StaleWhileRevalidate",
            options: {
              cacheName: "fund-api-cache",
              expiration: { maxEntries: 100, maxAgeSeconds: 60 * 5 },
            },
          },
        ],
      },
      manifest: {
        name: "FundPulse åŸºé‡‘çœ‹æ¿",
        short_name: "FundPulse",
        description: "æœ¬åœ°éšç§ä¼˜å…ˆçš„åŸºé‡‘å‡€å€¼è¿½è¸ªå·¥å…·",
        theme_color: "#0b0f19",
        background_color: "#0b0f19",
        display: "standalone",
        icons: [
          { src: "/icon-192.png", sizes: "192x192", type: "image/png" },
          { src: "/icon-512.png", sizes: "512x512", type: "image/png" },
        ],
      },
    }),
  ],
});
```

### 7.2 æ€§èƒ½æŒ‡æ ‡ç›®æ ‡

**è¡¨æ ¼**å¤åˆ¶

| æŒ‡æ ‡                   | ç›®æ ‡å€¼ | å®ç°æ–¹å¼                     |
| :--------------------- | :----- | :--------------------------- |
| **FCP** (é¦–æ¬¡å†…å®¹ç»˜åˆ¶) | < 1.5s | éª¨æ¶å± + æœ¬åœ°ç¼“å­˜ä¼˜å…ˆæ¸²æŸ“    |
| **TTI** (å¯äº¤äº’æ—¶é—´)   | < 3s   | Code Splitting (è·¯ç”±æ‡’åŠ è½½)  |
| **LCP** (æœ€å¤§å†…å®¹ç»˜åˆ¶) | < 2.5s | ECharts å¼‚æ­¥åŠ è½½ï¼Œå›¾ç‰‡æ‡’åŠ è½½ |
| **CLS** (å¸ƒå±€åç§»)     | < 0.1  | å›ºå®šå®½é«˜æ¯”å®¹å™¨ï¼Œé¢„ç•™æ•°æ®ä½   |
| **ç¦»çº¿å¯ç”¨æ€§**         | 100%   | Service Worker ç¼“å­˜æ ¸å¿ƒèµ„æº  |

---

## 8. å¼€å‘è·¯çº¿å›¾

### Phase 1: MVPï¼ˆ2å‘¨ï¼‰

- [ ] åŸºç¡€ React + Vite å·¥ç¨‹æ­å»º
- [ ] IndexedDB åŸºç¡€ Schema ä¸ CRUD
- [ ] ä¸œæ–¹è´¢å¯Œ JSONP æ¥å£å°è£…
- [ ] è‡ªé€‰åŸºé‡‘åˆ—è¡¨ï¼ˆå¢åˆ æ”¹æŸ¥ï¼‰
- [ ] å®æ—¶ä¼°å€¼æ˜¾ç¤ºï¼ˆæ¶¨è·Œé¢œè‰²åŒºåˆ†ï¼‰
- [ ] RemixIcon åŸºç¡€å›¾æ ‡é›†æˆ

### Phase 2: å¯è§†åŒ–ï¼ˆ1å‘¨ï¼‰

- [ ] ECharts é¢ç§¯å›¾é›†æˆï¼ˆ30æ—¥èµ°åŠ¿ï¼‰
- [ ] æ—¶é—´èŒƒå›´åˆ‡æ¢ï¼ˆ1æœˆ/3æœˆ/6æœˆ/1å¹´ï¼‰
- [ ] æŒ‡æ•°çœ‹æ¿ï¼ˆé¡¶éƒ¨æ¨ªå‘æ»šåŠ¨ï¼‰
- [ ] é‡ä»“è‚¡ç¥¨å¡ç‰‡å±•ç¤º

### Phase 3: PWA ä¸ä¼˜åŒ–ï¼ˆ1å‘¨ï¼‰

- [ ] Vite PWA é…ç½®ä¸ Service Worker
- [ ] ç¦»çº¿æ•°æ®åŒæ­¥ç­–ç•¥
- [ ] æ·±è‰²æ¨¡å¼åˆ‡æ¢ä¸åŠ¨ç”»ä¼˜åŒ–
- [ ] ç§»åŠ¨ç«¯é€‚é…ï¼ˆè§¦å±æ‰‹åŠ¿ï¼‰

### Phase 4: é«˜çº§åŠŸèƒ½ï¼ˆå¯é€‰ï¼‰

- [ ] åŸºé‡‘å¯¹æ¯”ï¼ˆå¤šé€‰å¯¹æ¯”èµ°åŠ¿å›¾ï¼‰
- [ ] æ”¶ç›Šè®¡ç®—å™¨ï¼ˆå®šæŠ•/ä¸€æ¬¡æ€§æŠ•å…¥æ¨¡æ‹Ÿï¼‰
- [ ] æ•°æ®å¯¼å‡ºï¼ˆJSON/CSV å¤‡ä»½æœ¬åœ°æ–‡ä»¶ï¼‰

---

## 9. é£é™©æç¤ºä¸å…è´£å£°æ˜

**æ•°æ®åˆè§„** ï¼š

- ä¸œæ–¹è´¢å¯Œ API ä¸ºå…¬å¼€æ¥å£ï¼Œä½†éœ€éµå®ˆå…¶ Robots åè®®ï¼Œé¿å…é«˜é¢‘è¯·æ±‚ï¼ˆå»ºè®®æœ€ä½ 30 ç§’é—´éš”ï¼‰
- é¡µé¢åº•éƒ¨å¿…é¡»æ·»åŠ ï¼š**"æ•°æ®ä»…ä¾›å‚è€ƒï¼Œä¸æ„æˆæŠ•èµ„å»ºè®®ã€‚å¸‚åœºæœ‰é£é™©ï¼Œå…¥å¸‚éœ€è°¨æ…ã€‚"**

  **æŠ€æœ¯é™åˆ¶** ï¼š

- JSONP å­˜åœ¨ XSS é£é™©ï¼ˆè™½ç„¶ä¸œæ–¹è´¢å¯Œæ˜¯å¯ä¿¡æºï¼‰ï¼Œå»ºè®®æ·»åŠ  CSP ç­–ç•¥
- ç”¨æˆ·æ¸…é™¤æµè§ˆå™¨æ•°æ®ä¼šå¯¼è‡´æ‰€æœ‰è‡ªé€‰åŸºé‡‘ä¸¢å¤±ï¼ˆç¬¦åˆ"æœ¬åœ°éš”ç¦»"é¢„æœŸï¼Œå¯è€ƒè™‘å¢åŠ "å¯¼å‡ºé…ç½®"åŠŸèƒ½ä½œä¸ºå¤‡ä»½ï¼‰

<link href="https://cdn.jsdelivr.net/npm/remixicon@4.2.0/fonts/remixicon.css" rel="stylesheet"/>
