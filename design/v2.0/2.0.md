**FundPulse 2.0 äº§å“é‡æ„æ–¹æ¡ˆ**
_Theme: Cyber-Fintech / èµ›åšé‡‘èçºª_

---

## 1. è®¾è®¡ç³»ç»Ÿ (Design System)

### 1.1 è‰²å½©æ¶æ„ï¼šæ·±ç©ºéœ“è™¹ (Deep Space Neon)

**css**å¤åˆ¶

```css
:root {
  /* èƒŒæ™¯å±‚çº§ - æ·±ç©ºé»‘ */
  --bg-void: #030305; /* ä¸»èƒŒæ™¯ - ç»å¯¹é»‘ */
  --bg-surface: rgba(15, 15, 25, 0.6); /* ç»ç’ƒæ€å¡ç‰‡ */
  --bg-elevated: rgba(25, 25, 40, 0.8); /* æ‚¬æµ®å±‚ */

  /* æ ¸å¿ƒéœ“è™¹è‰² (å‚è€ƒå›¾2 FundMatrix) */
  --neon-red: #ff2d55; /* ä¸»å¼ºè°ƒ - ç”µå…‰çº¢ */
  --neon-red-glow: rgba(255, 45, 85, 0.4);
  --neon-blue: #00d4ff; /* ç§‘æŠ€è“ - æ•°æ®æµåŠ¨ */
  --neon-blue-glow: rgba(0, 212, 255, 0.3);
  --neon-purple: #bf5af2; /* AIåŠŸèƒ½è‰² - ç´«ç½—å…° */
  --neon-purple-glow: rgba(191, 90, 242, 0.4);
  --neon-amber: #ff9f0a; /* é¢„è­¦/æç¤º - ç¥ç€ */

  /* é‡‘èè¯­ä¹‰ (é«˜å¯¹æ¯”) */
  --up: #ff453a; /* æ¶¨ - é²œçº¢éœ“è™¹ */
  --down: #32d74b; /* è·Œ - ç¿ ç»¿éœ“è™¹ */
  --neutral: #8e8e93; /* ä¸­æ€§ - é“¶ç° */

  /* æ–‡å­—å±‚çº§ */
  --text-primary: rgba(255, 255, 255, 0.95);
  --text-secondary: rgba(255, 255, 255, 0.6);
  --text-tertiary: rgba(255, 255, 255, 0.35);

  /* è¾¹æ¡†ä¸åˆ†éš” */
  --border-subtle: rgba(255, 255, 255, 0.08);
  --border-glow: rgba(255, 45, 85, 0.3);
  --grid-line: rgba(255, 255, 255, 0.03); /* èƒŒæ™¯ç½‘æ ¼ */
}
```

### 1.2 å­—ä½“ç³»ç»Ÿ

**css**å¤åˆ¶

```css
/* æ ‡é¢˜ï¼šå‡ ä½•æ— è¡¬çº¿ */
--font-display: "Space Grotesk", "Inter", sans-serif;
/* æ•°æ®ï¼šç­‰å®½æ•°å­—å¯¹é½ */
--font-mono: "JetBrains Mono", "SF Mono", monospace;
/* æ­£æ–‡ï¼šç³»ç»Ÿå­—ä½“ */
--font-body: -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
```

### 1.3 ç»ç’ƒæ‹Ÿæ€ç»„ä»¶è§„èŒƒ (Glassmorphism)

**css**å¤åˆ¶

```css
/* åŸºç¡€ç»ç’ƒå¡ç‰‡ */
.glass-card {
  background: linear-gradient(
    135deg,
    rgba(255, 255, 255, 0.03) 0%,
    rgba(255, 255, 255, 0.01) 100%
  );
  backdrop-filter: blur(20px) saturate(180%);
  -webkit-backdrop-filter: blur(20px) saturate(180%);
  border: 1px solid var(--border-subtle);
  border-radius: 16px;
  box-shadow:
    0 8px 32px rgba(0, 0, 0, 0.4),
    inset 0 1px 0 rgba(255, 255, 255, 0.05);
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

/* æ‚¬åœæ€ - éœ“è™¹è¾¹æ¡† */
.glass-card:hover {
  border-color: var(--neon-red);
  box-shadow:
    0 12px 40px rgba(0, 0, 0, 0.5),
    0 0 20px var(--neon-red-glow),
    inset 0 1px 0 rgba(255, 255, 255, 0.1);
  transform: translateY(-2px);
}

/* æ¿€æ´»æ€ - AIåŠŸèƒ½ä¸“ç”¨ï¼ˆç´«è‰²ï¼‰ */
.glass-card.ai-active {
  border-color: var(--neon-purple);
  box-shadow: 0 0 30px var(--neon-purple-glow);
}
```

### 1.4 å¾®äº¤äº’ç³»ç»Ÿ

**css**å¤åˆ¶

```css
/* æ•°å­—é—ªçƒï¼ˆæ•°æ®æ›´æ–°æ—¶ï¼‰ */
@keyframes data-flash {
  0% {
    text-shadow: 0 0 0 transparent;
    color: var(--text-primary);
  }
  50% {
    text-shadow: 0 0 20px var(--neon-blue);
    color: var(--neon-blue);
  }
  100% {
    text-shadow: 0 0 0 transparent;
    color: var(--text-primary);
  }
}

/* æ‰«æçº¿èƒŒæ™¯ */
.bg-scanline {
  background-image:
    linear-gradient(var(--grid-line) 1px, transparent 1px),
    linear-gradient(90deg, var(--grid-line) 1px, transparent 1px);
  background-size: 50px 50px;
}

/* å‘¼å¸ç¯ï¼ˆå®æ—¶æ•°æ®æŒ‡ç¤ºï¼‰ */
@keyframes breathe {
  0%,
  100% {
    opacity: 0.4;
    box-shadow: 0 0 0 0 rgba(50, 215, 75, 0.4);
  }
  50% {
    opacity: 1;
    box-shadow: 0 0 0 8px rgba(50, 215, 75, 0);
  }
}
.live-dot {
  width: 6px;
  height: 6px;
  border-radius: 50%;
  background: var(--down);
  animation: breathe 2s ease-in-out infinite;
}
```

---

## 2. ä¿¡æ¯æ¶æ„é‡æ„ (IA)

### 2.1 å¯¼èˆªç»“æ„

å¤åˆ¶

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  [Logo] FundPulse 2.0        [é¦–é¡µ] [è‡ªé€‰]        [è®¾ç½® âš™ï¸]  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  é¦–é¡µ (Landing)              è‡ªé€‰ (Portfolio)               â”‚
â”‚  â”œâ”€ Hero Section             â”œâ”€ èµ„äº§æ¦‚è§ˆå¡ç‰‡åŒº               â”‚
â”‚  â”œâ”€ å…¨çƒæŒ‡æ•°å®æ—¶æµ            â”œâ”€ åŸºé‡‘åˆ—è¡¨ (è¯¦ç»†ç‰ˆ)            â”‚
â”‚  â”œâ”€ çƒ­é—¨åŸºé‡‘æ’è¡Œæ¦œ            â”œâ”€ å¿«æ·æ“ä½œæ  (AI/ç­›é€‰)         â”‚
â”‚  â””â”€ åŸºé‡‘æœç´¢                 â””â”€ AI åˆ†ææŠ½å±‰ (ä¾§æ»‘)           â”‚
â”‚       â””â”€ è§¦å‘è¯¦æƒ…å¼¹çª—              â””â”€ å¯¹æ¯”é€‰æ‹©å™¨             â”‚
â”‚            â”œâ”€ åŸºé‡‘æ¦‚å†µ                  â””â”€ åˆ†æç»“æœ           â”‚
â”‚            â”œâ”€ å‡€å€¼èµ°åŠ¿                                        â”‚
â”‚            â””â”€ æŒä»“æ˜ç»†                                        â”‚
â”‚            â””â”€ AI è¯Šæ–­ (Tab)                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 3. é¦–é¡µ (Home) é‡æ„

### 3.1 Hero Section

**è§†è§‰** ï¼šå…¨å®½æ·±è‰²æ¸å˜èƒŒæ™¯ + åŠ¨æ€ç²’å­ç½‘æ ¼ + ä¸­å¤®å¤§æ ‡é¢˜

**jsx**å¤åˆ¶

```jsx
<HeroSection>
  <div className="relative h-[40vh] flex flex-col items-center justify-center bg-scanline">
    {/* èƒŒæ™¯å…‰æ™• */}
    <div className="absolute inset-0 bg-gradient-to-b from-neon-red/10 via-transparent to-transparent blur-3xl" />

    <h1 className="text-6xl font-display font-bold tracking-tighter text-transparent bg-clip-text bg-gradient-to-r from-white via-white to-neon-red/80">
      FundPulse <span className="text-neon-red">2.0</span>
    </h1>
    <p className="mt-4 text-xl text-text-secondary font-light tracking-wide">
      å®æ—¶é€è§† Â· æ™ºèƒ½æ´å¯Ÿ Â· ç©¿é€æŒä»“
    </p>

    <button className="mt-8 px-8 py-3 bg-neon-red/10 border border-neon-red/50 rounded-full text-neon-red hover:bg-neon-red/20 hover:shadow-[0_0_30px_rgba(255,45,85,0.4)] transition-all">
      å¼€å§‹ä½“éªŒ â†’
    </button>
  </div>
</HeroSection>
```

### 3.2 åŒåˆ—å¸‚åœºæ¦‚è§ˆ (Market Grid)

**å¸ƒå±€** ï¼šCSS Gridï¼Œå·¦åˆ—æŒ‡æ•°ï¼ˆå›ºå®šå®½åº¦ 360pxï¼‰ï¼Œå³åˆ—åŸºé‡‘æ’è¡Œæ¦œï¼ˆè‡ªé€‚åº”ï¼‰

**jsx**å¤åˆ¶

```jsx
<MarketGrid className="grid grid-cols-1 lg:grid-cols-[360px_1fr] gap-6 p-6">
  {/* å·¦åˆ—ï¼šå…¨çƒæŒ‡æ•°æµ */}
  <section className="glass-card p-4 h-[600px] overflow-hidden flex flex-col">
    <header className="flex items-center gap-2 mb-4 text-text-secondary">
      <i className="ri-globe-line text-neon-blue" />
      <h3 className="font-display font-semibold">å…¨çƒæŒ‡æ•°æµ</h3>
      <span className="ml-auto flex items-center gap-2 text-xs">
        <span className="live-dot" /> å®æ—¶
      </span>
    </header>

    <div className="flex-1 overflow-y-auto space-y-3 scrollbar-hide">
      {indices.map((idx) => (
        <IndexCard
          key={idx.code}
          className="flex items-center justify-between p-3 rounded-xl hover:bg-white/5 transition-colors cursor-pointer group"
        >
          <div>
            <div className="flex items-center gap-2">
              <span className="text-lg">{idx.flag}</span>
              <span className="font-medium text-text-primary">{idx.name}</span>
            </div>
            <div className="text-xs text-text-tertiary mt-1">{idx.code}</div>
          </div>
          <div className="text-right">
            <div className="font-mono text-lg text-text-primary group-hover:text-neon-blue transition-colors">
              {idx.price.toLocaleString()}
            </div>
            <div
              className={`text-sm font-mono ${idx.change >= 0 ? "text-up" : "text-down"}`}
            >
              {idx.change >= 0 ? "+" : ""}
              {idx.changePercent}%
            </div>
          </div>
        </IndexCard>
      ))}
    </div>
  </section>

  {/* å³åˆ—ï¼šçƒ­é—¨åŸºé‡‘æ’è¡Œæ¦œ + æœç´¢ */}
  <section className="glass-card p-4 flex flex-col">
    <header className="flex items-center justify-between mb-4">
      <div className="flex items-center gap-2 text-text-secondary">
        <i className="ri-fire-line text-neon-red" />
        <h3 className="font-display font-semibold">çƒ­é—¨åŸºé‡‘æ’è¡Œæ¦œ</h3>
      </div>

      {/* æœç´¢æ  */}
      <div className="relative w-72">
        <input
          type="text"
          placeholder="æœç´¢åŸºé‡‘ä»£ç /åç§°..."
          className="w-full bg-black/30 border border-white/10 rounded-lg pl-10 pr-4 py-2 text-sm focus:border-neon-blue focus:outline-none focus:shadow-[0_0_15px_rgba(0,212,255,0.3)] transition-all"
        />
        <i className="ri-search-line absolute left-3 top-2.5 text-text-tertiary" />
      </div>
    </header>

    {/* æ’è¡Œæ¦œåˆ—è¡¨ */}
    <div className="flex-1 overflow-y-auto">
      <table className="w-full text-left border-collapse">
        <thead className="text-xs text-text-tertiary uppercase tracking-wider border-b border-white/5">
          <tr>
            <th className="pb-3 pl-4">åŸºé‡‘åç§°</th>
            <th className="pb-3">æœ€æ–°å‡€å€¼</th>
            <th className="pb-3">æ—¥æ¶¨è·Œ</th>
            <th className="pb-3">è¿‘1æœˆ</th>
            <th className="pb-3 text-right">æ“ä½œ</th>
          </tr>
        </thead>
        <tbody className="divide-y divide-white/5">
          {hotFunds.map((fund) => (
            <tr
              key={fund.code}
              className="group hover:bg-white/5 transition-colors"
            >
              <td
                className="py-4 pl-4 cursor-pointer"
                onClick={() => openModal(fund)}
              >
                <div className="font-medium text-text-primary">{fund.name}</div>
                <div className="text-xs text-text-tertiary">{fund.code}</div>
              </td>
              <td className="py-4 font-mono text-text-primary">{fund.nav}</td>
              <td
                className={`py-4 font-mono ${fund.change >= 0 ? "text-up" : "text-down"}`}
              >
                {fund.change >= 0 ? "+" : ""}
                {fund.changePercent}%
              </td>
              <td className="py-4 font-mono text-text-secondary">
                {fund.return1m}%
              </td>
              <td className="py-4 text-right pr-4">
                <button
                  onClick={() => addToWatchlist(fund)}
                  className="px-3 py-1.5 rounded-lg bg-white/5 hover:bg-neon-blue/20 hover:text-neon-blue border border-white/10 hover:border-neon-blue/50 transition-all text-xs flex items-center gap-1 ml-auto"
                >
                  <i className="ri-add-line" /> è‡ªé€‰
                </button>
              </td>
            </tr>
          ))}
        </tbody>
      </table>
    </div>
  </section>
</MarketGrid>
```

### 3.3 åŸºé‡‘è¯¦æƒ…å¼¹çª— (Fund Modal)

**ç»“æ„** ï¼šå…¨å± Glass Modalï¼Œé¡¶éƒ¨ Tab å¯¼èˆªï¼Œå†…å®¹åŒºä¸‰æ åˆ‡æ¢

**jsx**å¤åˆ¶

```jsx
<Modal
  isOpen={modalOpen}
  onClose={closeModal}
  className="fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/80 backdrop-blur-sm"
>
  <div className="w-full max-w-4xl h-[80vh] glass-card overflow-hidden flex flex-col animate-in fade-in zoom-in-95 duration-200">
    {/* Header */}
    <header className="flex items-center justify-between px-6 py-4 border-b border-white/10 bg-white/5">
      <div>
        <h2 className="text-xl font-display font-bold text-text-primary">
          {selectedFund.name}
        </h2>
        <div className="flex items-center gap-3 mt-1 text-sm text-text-secondary">
          <span>{selectedFund.code}</span>
          <span className="w-1 h-1 rounded-full bg-text-tertiary" />
          <span>{selectedFund.manager}</span>
          <span className="w-1 h-1 rounded-full bg-text-tertiary" />
          <span className="px-2 py-0.5 rounded-full bg-white/10 text-xs">
            {selectedFund.type}
          </span>
        </div>
      </div>
      <button
        onClick={closeModal}
        className="w-8 h-8 rounded-full hover:bg-white/10 flex items-center justify-center transition-colors"
      >
        <i className="ri-close-line text-xl" />
      </button>
    </header>

    {/* Tab Navigation */}
    <nav className="flex items-center gap-1 px-6 border-b border-white/10 bg-black/20">
      {[
        { id: "overview", label: "åŸºé‡‘æ¦‚å†µ", icon: "ri-file-list-line" },
        { id: "chart", label: "å‡€å€¼èµ°åŠ¿", icon: "ri-line-chart-line" },
        { id: "holdings", label: "é‡ä»“è‚¡ç¥¨", icon: "ri-stack-line" },
        {
          id: "ai",
          label: "ğŸ¤– AI è¯Šæ–­",
          icon: "ri-robot-2-line",
          highlight: true,
        },
      ].map((tab) => (
        <button
          key={tab.id}
          onClick={() => setActiveTab(tab.id)}
          className={`px-4 py-3 text-sm font-medium flex items-center gap-2 border-b-2 transition-all relative ${
            activeTab === tab.id
              ? tab.highlight
                ? "border-neon-purple text-neon-purple shadow-[0_2px_15px_rgba(191,90,242,0.3)]"
                : "border-neon-red text-neon-red"
              : "border-transparent text-text-secondary hover:text-text-primary"
          }`}
        >
          <i className={tab.icon} />
          {tab.label}
        </button>
      ))}
    </nav>

    {/* Content Area */}
    <div className="flex-1 overflow-y-auto p-6 bg-scanline">
      {activeTab === "overview" && <FundOverview fund={selectedFund} />}
      {activeTab === "chart" && <FundChart fund={selectedFund} />}
      {activeTab === "holdings" && <FundHoldings fund={selectedFund} />}
      {activeTab === "ai" && <AIDiagnosisSingle fund={selectedFund} />}
    </div>
  </div>
</Modal>
```

---

## 4. è‡ªé€‰é¡µé¢ (Portfolio) é‡æ„

### 4.1 èµ„äº§æ¦‚è§ˆå¡ç‰‡åŒº (Dashboard Cards)

**ä¸‰åˆ—å¸ƒå±€** ï¼šæ€»èµ„äº§ | ä»Šæ—¥ç›ˆäº | AI å¥åº·åˆ†

**jsx**å¤åˆ¶

```jsx
<DashboardGrid className="grid grid-cols-1 md:grid-cols-3 gap-4 p-6">
  {/* æ€»èµ„äº§ */}
  <Card className="glass-card p-5 relative overflow-hidden group">
    <div className="absolute top-0 right-0 w-32 h-32 bg-neon-blue/10 rounded-full blur-3xl -mr-10 -mt-10" />
    <div className="relative">
      <div className="text-text-secondary text-sm mb-1 flex items-center gap-2">
        <i className="ri-wallet-3-line" /> æ€»èµ„äº§ (ä¼°ç®—)
      </div>
      <div className="text-3xl font-mono font-bold text-text-primary tracking-tight">
        Â¥{totalAssets.toLocaleString()}
      </div>
      <div className="mt-2 text-xs text-text-tertiary">
        æŒä»“ {holdings.length} åªåŸºé‡‘
      </div>
    </div>
  </Card>

  {/* ä»Šæ—¥ç›ˆäº */}
  <Card className="glass-card p-5 relative overflow-hidden">
    <div
      className={`absolute top-0 right-0 w-32 h-32 rounded-full blur-3xl -mr-10 -mt-10 ${todayChange >= 0 ? "bg-up/10" : "bg-down/10"}`}
    />
    <div className="relative">
      <div className="text-text-secondary text-sm mb-1 flex items-center gap-2">
        <i className="ri-line-chart-fill" /> ä»Šæ—¥ç›ˆäº
      </div>
      <div
        className={`text-3xl font-mono font-bold tracking-tight ${todayChange >= 0 ? "text-up" : "text-down"}`}
      >
        {todayChange >= 0 ? "+" : ""}Â¥{todayChange.toLocaleString()}
      </div>
      <div
        className={`mt-2 text-xs ${todayChange >= 0 ? "text-up" : "text-down"}`}
      >
        {todayChangePercent}% {todayChange >= 0 ? "â†‘" : "â†“"}
      </div>
    </div>
  </Card>

  {/* AI å¥åº·åˆ† */}
  <Card
    className="glass-card p-5 relative overflow-hidden cursor-pointer hover:border-neon-purple/50 transition-all group"
    onClick={() => openAISelector()}
  >
    <div className="absolute top-0 right-0 w-32 h-32 bg-neon-purple/10 rounded-full blur-3xl -mr-10 -mt-10 group-hover:bg-neon-purple/20 transition-colors" />
    <div className="relative">
      <div className="text-text-secondary text-sm mb-1 flex items-center gap-2">
        <i className="ri-robot-2-line text-neon-purple" /> ğŸ¤– AI å¥åº·åˆ†
      </div>
      <div className="flex items-end gap-2">
        <span className="text-3xl font-mono font-bold text-neon-purple">
          {aiHealthScore || "--"}
        </span>
        <span className="text-sm text-text-tertiary mb-1">/100</span>
      </div>
      <div className="mt-2 text-xs text-text-tertiary flex items-center gap-1">
        {aiHealthScore ? "ç‚¹å‡»é‡æ–°è¯Šæ–­" : "ç‚¹å‡»å¼€å§‹è¯Šæ–­"}
        <i className="ri-arrow-right-line" />
      </div>
    </div>
    {/* è£…é¥°æ€§æ‰«æçº¿ */}
    <div className="absolute bottom-0 left-0 right-0 h-0.5 bg-gradient-to-r from-transparent via-neon-purple to-transparent opacity-50" />
  </Card>
</DashboardGrid>
```

### 4.2 è‡ªé€‰åŸºé‡‘åˆ—è¡¨ (è¯¦ç»†ç‰ˆ)

æ¯”é¦–é¡µå¤šäº†**ç”¨æˆ·æŒä»“æ•°æ®**å’Œ**æ“ä½œå¯†åº¦**

**jsx**å¤åˆ¶

```jsx
<PortfolioList className="px-6 pb-6">
  <div className="glass-card overflow-hidden">
    <table className="w-full text-left">
      <thead className="bg-white/5 text-xs text-text-tertiary uppercase tracking-wider">
        <tr>
          <th className="py-3 pl-6">åŸºé‡‘åç§°</th>
          <th className="py-3">æŒæœ‰é‡‘é¢</th>
          <th className="py-3">ä»Šæ—¥ç›ˆäº</th>
          <th className="py-3">ç´¯è®¡æ”¶ç›Š</th>
          <th className="py-3 text-center">AI</th>
          <th className="py-3 pr-6 text-right">æ“ä½œ</th>
        </tr>
      </thead>
      <tbody className="divide-y divide-white/5">
        {watchlist.map((fund) => {
          const profit = (fund.nav - fund.userCost) * fund.userShares;
          const profitPercent =
            ((fund.nav - fund.userCost) / fund.userCost) * 100;

          return (
            <tr
              key={fund.code}
              className="group hover:bg-white/5 transition-colors"
            >
              <td className="py-4 pl-6">
                <div className="font-medium text-text-primary">{fund.name}</div>
                <div className="text-xs text-text-tertiary mt-1">
                  {fund.code}
                </div>
              </td>
              <td className="py-4">
                <div className="font-mono text-text-primary">
                  Â¥{(fund.nav * fund.userShares).toLocaleString()}
                </div>
                <div className="text-xs text-text-tertiary">
                  {fund.userShares} ä»½
                </div>
              </td>
              <td className="py-4">
                <div
                  className={`font-mono ${fund.changePercent >= 0 ? "text-up" : "text-down"}`}
                >
                  {fund.changePercent >= 0 ? "+" : ""}
                  {(
                    (fund.changePercent * fund.nav * fund.userShares) /
                    100
                  ).toFixed(2)}
                </div>
                <div
                  className={`text-xs ${fund.changePercent >= 0 ? "text-up" : "text-down"}`}
                >
                  {fund.changePercent >= 0 ? "+" : ""}
                  {fund.changePercent}%
                </div>
              </td>
              <td className="py-4">
                <div
                  className={`font-mono ${profit >= 0 ? "text-up" : "text-down"}`}
                >
                  {profit >= 0 ? "+" : ""}Â¥{profit.toFixed(2)}
                </div>
                <div
                  className={`text-xs ${profit >= 0 ? "text-up" : "text-down"}`}
                >
                  {profitPercent >= 0 ? "+" : ""}
                  {profitPercent.toFixed(2)}%
                </div>
              </td>
              <td className="py-4 text-center">
                <button
                  onClick={() => startAIDiagnosis([fund])}
                  className="w-8 h-8 rounded-full bg-neon-purple/10 text-neon-purple hover:bg-neon-purple/20 hover:scale-110 transition-all flex items-center justify-center mx-auto"
                  title="AI è¯Šæ–­"
                >
                  <i className="ri-robot-2-line" />
                </button>
              </td>
              <td className="py-4 pr-6 text-right">
                <div className="flex items-center justify-end gap-2 opacity-0 group-hover:opacity-100 transition-opacity">
                  <button
                    onClick={() => openFundModal(fund)}
                    className="w-8 h-8 rounded-full bg-white/5 hover:bg-neon-blue/20 hover:text-neon-blue flex items-center justify-center transition-colors"
                    title="è¯¦æƒ…"
                  >
                    <i className="ri-bar-chart-box-line" />
                  </button>
                  <button
                    onClick={() => removeFromWatchlist(fund.code)}
                    className="w-8 h-8 rounded-full bg-white/5 hover:bg-red-500/20 hover:text-red-400 flex items-center justify-center transition-colors"
                    title="åˆ é™¤"
                  >
                    <i className="ri-delete-bin-line" />
                  </button>
                </div>
              </td>
            </tr>
          );
        })}
      </tbody>
    </table>
  </div>
</PortfolioList>
```

---

## 5. AI è¯ŠåŸº 2.0 å®Œæ•´æ–¹æ¡ˆ

### 5.1 åŸºé‡‘é€‰æ‹©å™¨ (Fund Selector)

**è§¦å‘æ¡ä»¶** ï¼š

- ç‚¹å‡»èµ„äº§å¡ç‰‡åŒºçš„ã€ŒAI å¥åº·åˆ†ã€
- ç‚¹å‡»åˆ—è¡¨è¡Œçš„ã€ŒAI å›¾æ ‡ã€
- ç‚¹å‡»ã€Œå¼€å§‹å¯¹æ¯”ã€æŒ‰é’®

  **ç•Œé¢** ï¼š

**jsx**å¤åˆ¶

```jsx
<SelectorModal className="fixed inset-0 z-50 flex items-center justify-center bg-black/90 backdrop-blur-md">
  <div className="w-full max-w-2xl glass-card p-6 max-h-[80vh] flex flex-col">
    <header className="flex items-center justify-between mb-6">
      <div>
        <h3 className="text-xl font-display font-bold text-text-primary">
          {preSelected ? "æ·»åŠ å¯¹æ¯”åŸºé‡‘" : "é€‰æ‹©è¦åˆ†æçš„åŸºé‡‘"}
        </h3>
        <p className="text-sm text-text-secondary mt-1">
          å·²é€‰æ‹©:{" "}
          <span
            className={`font-mono font-bold ${selectedCount > 3 ? "text-neon-red" : "text-neon-purple"}`}
          >
            {selectedCount}
          </span>
          /3 (å•åŸºé‡‘æ·±åº¦åˆ†æ æˆ– æœ€å¤š3åªå¯¹æ¯”)
        </p>
      </div>
      {selectedCount > 0 && (
        <button
          onClick={startAnalysis}
          disabled={selectedCount === 0}
          className="px-6 py-2 bg-neon-purple/20 text-neon-purple border border-neon-purple/50 rounded-lg hover:bg-neon-purple/30 hover:shadow-[0_0_20px_rgba(191,90,242,0.4)] transition-all disabled:opacity-50 disabled:cursor-not-allowed"
        >
          {selectedCount === 1
            ? "å¼€å§‹å•åŸºé‡‘è¯Šæ–­"
            : `å¼€å§‹å¯¹æ¯”åˆ†æ (${selectedCount}åª)`}
        </button>
      )}
    </header>

    {/* å·²é€‰æ ‡ç­¾ */}
    {selected.length > 0 && (
      <div className="flex flex-wrap gap-2 mb-4 pb-4 border-b border-white/10">
        {selected.map((fund) => (
          <span
            key={fund.code}
            className="inline-flex items-center gap-2 px-3 py-1.5 rounded-full bg-neon-purple/20 border border-neon-purple/30 text-sm text-neon-purple"
          >
            {fund.name}
            <button
              onClick={() => toggleSelection(fund)}
              className="hover:text-white"
            >
              <i className="ri-close-line" />
            </button>
          </span>
        ))}
      </div>
    )}

    {/* å¯é€‰åˆ—è¡¨ */}
    <div className="flex-1 overflow-y-auto space-y-2">
      {watchlist
        .filter((f) => !selected.find((s) => s.code === f.code))
        .map((fund) => (
          <div
            key={fund.code}
            onClick={() => toggleSelection(fund)}
            className={`p-4 rounded-xl border cursor-pointer transition-all flex items-center justify-between ${
              selected.find((s) => s.code === fund.code)
                ? "border-neon-purple bg-neon-purple/10 shadow-[0_0_15px_rgba(191,90,242,0.2)]"
                : "border-white/10 bg-white/5 hover:border-white/30 hover:bg-white/[0.08]"
            }${selected.length >= 3 && !selected.find((s) => s.code === fund.code) ? "opacity-40 cursor-not-allowed" : ""}`}
          >
            <div>
              <div className="font-medium text-text-primary">{fund.name}</div>
              <div className="text-xs text-text-tertiary mt-1">
                {fund.code} | æŒæœ‰: Â¥
                {(fund.nav * fund.userShares).toLocaleString()}
              </div>
            </div>
            {selected.find((s) => s.code === fund.code) && (
              <i className="ri-check-line text-neon-purple text-xl" />
            )}
          </div>
        ))}
    </div>

    <div className="mt-4 pt-4 border-t border-white/10 text-xs text-text-tertiary text-center">
      æç¤ºï¼šé€‰æ‹©1åªè¿›è¡Œæ·±åº¦è¯Šæ–­ï¼Œæˆ–å¤šåªè¿›è¡Œå¯¹æ¯”é…ç½®å»ºè®®
    </div>
  </div>
</SelectorModal>
```

### 5.2 åˆ†æç»“æœç•Œé¢ (Analysis Result)

**å¸ƒå±€å·®å¼‚** ï¼š

- **å•åŸºé‡‘** ï¼šçºµå‘æ·±åº¦æŠ¥å‘Šï¼ŒåŒ…å«æŠ€æœ¯é¢/åŸºæœ¬é¢/æ“ä½œå»ºè®®
- **å¤šåŸºé‡‘** ï¼šæ¨ªå‘å¯¹æ¯”è¡¨æ ¼ + AI é…ç½®å»ºè®®

**jsx**å¤åˆ¶

```jsx
<AnalysisResult className="fixed inset-0 z-50 bg-void overflow-y-auto">
  {/* é¡¶éƒ¨å¯¼èˆª */}
  <header className="sticky top-0 z-10 bg-void/80 backdrop-blur-md border-b border-white/10 px-6 py-4 flex items-center justify-between">
    <button
      onClick={backToSelector}
      className="flex items-center gap-2 text-text-secondary hover:text-text-primary transition-colors"
    >
      <i className="ri-arrow-left-line" /> è¿”å›é€‰æ‹©
    </button>
    <h2 className="font-display font-bold text-lg">
      {analysisMode === "single" ? "ğŸ¤– å•åŸºé‡‘æ·±åº¦è¯Šæ–­" : "âš¡ åŸºé‡‘å¯¹æ¯”åˆ†æ"}
    </h2>
    <button
      onClick={regenerateAnalysis}
      className="flex items-center gap-2 text-neon-purple hover:text-white transition-colors"
    >
      <i className="ri-refresh-line" /> é‡æ–°åˆ†æ
    </button>
  </header>

  <div className="max-w-6xl mx-auto p-6">
    {analysisMode === "single" ? (
      /* å•åŸºé‡‘å¸ƒå±€ */
      <div className="space-y-6">
        <SingleFundHeader fund={selectedFunds[0]} />
        <div className="grid grid-cols-1 lg:grid-cols-3 gap-6">
          <div className="lg:col-span-2 space-y-6">
            <AIInsightCard title="ğŸ“Š æŠ€æœ¯é¢åˆ†æ" content={analysis.technical} />
            <AIInsightCard
              title="ğŸ¢ åŸºæœ¬é¢ä½“æ£€"
              content={analysis.fundamental}
            />
            <AIInsightCard
              title="ğŸ’¡ æ“ä½œå»ºè®®"
              content={analysis.suggestion}
              highlight
            />
          </div>
          <div className="space-y-6">
            <RiskRadarChart data={analysis.riskMetrics} />
            <KeyMetricsCard fund={selectedFunds[0]} />
          </div>
        </div>
      </div>
    ) : (
      /* å¯¹æ¯”å¸ƒå±€ */
      <div className="space-y-6">
        <ComparisonTable funds={selectedFunds} />
        <AIComparisonReport analysis={analysis} />
        <PortfolioSuggestion funds={selectedFunds} />
      </div>
    )}
  </div>
</AnalysisResult>
```

### 5.3 AI Prompt å·¥ç¨‹

**TypeScript**å¤åˆ¶

```typescript
// prompts/fundAnalysis.ts

export const buildSingleFundPrompt = (
  fund: Fund,
  userHolding?: UserHolding,
) => `
ä½ æ˜¯ä¸€åä¸“ä¸šåŸºé‡‘æŠ•é¡¾ï¼Œæ‹¥æœ‰CFAå’ŒFRMè®¤è¯ã€‚è¯·å¯¹ä»¥ä¸‹åŸºé‡‘è¿›è¡Œæ·±åº¦ä½“æ£€ï¼Œè¾“å‡ºç»“æ„åŒ–JSONæ ¼å¼ã€‚

åŸºé‡‘åŸºæœ¬ä¿¡æ¯ï¼š
- åç§°ï¼š${fund.name} (${fund.code})
- ç±»å‹ï¼š${fund.type}
- åŸºé‡‘ç»ç†ï¼š${fund.manager} (${fund.managerTenure}å¹´ä»»æœŸ)
- è§„æ¨¡ï¼š${fund.scale}äº¿
- æœ€æ–°å‡€å€¼ï¼š${fund.nav} (æ—¥æ¶¨è·Œï¼š${fund.changePercent}%)
- ä¸šç»©ï¼šè¿‘1æœˆ${fund.return1m}% / è¿‘3æœˆ${fund.return3m}% / è¿‘1å¹´${fund.return1y}%
- é£é™©æŒ‡æ ‡ï¼šæ³¢åŠ¨ç‡${fund.volatility}% / æœ€å¤§å›æ’¤${fund.maxDrawdown}%
- é‡ä»“è¡Œä¸šï¼š${fund.topHoldings.map((h) => h.name).join("ã€")}

${userHolding ? `ç”¨æˆ·æŒä»“æƒ…å†µï¼šæŒæœ‰é‡‘é¢Â¥${userHolding.amount}ï¼Œæˆæœ¬${userHolding.costPrice}ï¼Œå½“å‰${userHolding.profit >= 0 ? "ç›ˆåˆ©" : "äºæŸ"}${userHolding.profitPercent}%` : "ç”¨æˆ·å°šæœªæŒæœ‰"}

è¯·è¾“å‡ºä»¥ä¸‹JSONç»“æ„ï¼š
{
  "healthScore": 75, // 0-100å¥åº·åˆ†
  "summary": "ä¸€å¥è¯æ€»ç»“è¯¥åŸºé‡‘å½“å‰çŠ¶æ€",
  "technical": "æŠ€æœ¯é¢åˆ†æï¼šè¶‹åŠ¿åˆ¤æ–­ã€æ”¯æ’‘å‹åŠ›ä½",
  "fundamental": "åŸºæœ¬é¢åˆ†æï¼šæŒä»“è´¨é‡ã€è¡Œä¸šåˆ†å¸ƒé£é™©ã€ç»ç†èƒ½åŠ›",
  "riskAssessment": "é£é™©è¯„ä¼°ï¼šæµåŠ¨æ€§ã€é›†ä¸­åº¦ã€å¸‚åœºé£é™©",
  "suggestion": "å…·ä½“æ“ä½œå»ºè®®ï¼šæŒæœ‰/å¢æŒ/å‡æŒ/è§‚æœ›ï¼Œç»™å‡ºé€»è¾‘",
  "riskLevel": "ä¸­é«˜é£é™©" // é£é™©ç­‰çº§
}
`;

export const buildComparisonPrompt = (funds: Fund[]) => `
ä½ æ˜¯ä¸€åèµ„äº§é…ç½®é¡¾é—®ã€‚ç”¨æˆ·æ­£åœ¨å¯¹æ¯”ä»¥ä¸‹${funds.length}åªåŸºé‡‘ï¼Œè¯·ç»™å‡ºä¸“ä¸šé…ç½®å»ºè®®ã€‚

${funds
  .map(
    (f, i) => `
[åŸºé‡‘${i + 1}] ${f.name} (${f.code})
- ç±»å‹ï¼š${f.type} | ç»ç†ï¼š${f.manager}
- è¿‘1å¹´æ”¶ç›Šï¼š${f.return1y}% | æ³¢åŠ¨ç‡ï¼š${f.volatility}%
- é‡ä»“ï¼š${f.topHoldings
      .slice(0, 3)
      .map((h) => h.name)
      .join("ã€")}
- è§„æ¨¡ï¼š${f.scale}äº¿
`,
  )
  .join("\n")}

è¯·è¾“å‡ºJSONï¼š
{
  "complementarity": "äº’è¡¥æ€§åˆ†æï¼šè¿™äº›åŸºé‡‘æ˜¯äº’è¡¥è¿˜æ˜¯é‡å¤ï¼Ÿè¡Œä¸šé‡å åº¦å¦‚ä½•ï¼Ÿ",
  "riskComparison": "é£é™©å¯¹æ¯”ï¼šå“ªåªæœ€é€‚åˆä¿å®ˆå‹ï¼Œå“ªåªé€‚åˆæ¿€è¿›å‹",
  "allocationSuggestion": {
    "conservative": "ä¿å®ˆå‹é…ç½®å»ºè®®ï¼šå¦‚ åŸºé‡‘A:åŸºé‡‘B = 7:3",
    "aggressive": "æ¿€è¿›å‹é…ç½®å»ºè®®ï¼šå¦‚ åŸºé‡‘A:åŸºé‡‘B = 3:7",
    "reason": "é…ç½®é€»è¾‘è¯´æ˜"
  },
  "recommendation": "å¦‚æœåªé€‰ä¸€åªï¼šæ¨èå“ªåªåŠç†ç”±",
  "risks": "ç»„åˆåçš„æœ€å¤§é£é™©ç‚¹æç¤º"
}
`;
```

---

## 6. è®¾ç½®é¢æ¿ (Settings)

**æ–°å¢ AI é…ç½®åŒº** ï¼š

**jsx**å¤åˆ¶

```jsx
<SettingsPanel>
  <Section title="AI è¯ŠåŸºé…ç½®" icon="ri-robot-2-line">
    <div className="space-y-4">
      <div>
        <label className="text-sm text-text-secondary block mb-2">
          AI æä¾›å•†
        </label>
        <select
          value={aiConfig.provider}
          onChange={(e) => updateAIConfig({ provider: e.target.value })}
          className="w-full bg-black/30 border border-white/10 rounded-lg px-4 py-2 text-text-primary focus:border-neon-purple focus:outline-none"
        >
          <option value="openai">OpenAI (GPT-4)</option>
          <option value="anthropic">Anthropic (Claude)</option>
          <option value="custom">è‡ªå®šä¹‰ (OpenAIå…¼å®¹)</option>
        </select>
      </div>

      <div>
        <label className="text-sm text-text-secondary block mb-2">
          API Key
        </label>
        <div className="relative">
          <input
            type={showKey ? "text" : "password"}
            value={aiConfig.apiKey}
            onChange={(e) => updateAIConfig({ apiKey: e.target.value })}
            placeholder="sk-..."
            className="w-full bg-black/30 border border-white/10 rounded-lg pl-4 pr-20 py-2 text-text-primary focus:border-neon-purple focus:outline-none font-mono"
          />
          <button
            onClick={() => setShowKey(!showKey)}
            className="absolute right-2 top-2 px-3 py-0.5 text-xs text-text-secondary hover:text-white"
          >
            {showKey ? "éšè—" : "æ˜¾ç¤º"}
          </button>
        </div>
        <p className="text-xs text-text-tertiary mt-1">
          Key ä»…å­˜å‚¨åœ¨æœ¬åœ°æµè§ˆå™¨ï¼Œä¸ä¼šä¸Šä¼ æœåŠ¡å™¨
        </p>
      </div>

      <div>
        <label className="text-sm text-text-secondary block mb-2">
          æ¨¡å‹é€‰æ‹©
        </label>
        <select
          value={aiConfig.model}
          onChange={(e) => updateAIConfig({ model: e.target.value })}
          className="w-full bg-black/30 border border-white/10 rounded-lg px-4 py-2 text-text-primary"
        >
          <option value="gpt-4-mini">GPT-4 Mini (å¿«é€Ÿ)</option>
          <option value="gpt-4">GPT-4 (ç²¾å‡†)</option>
          <option value="claude-3-haiku">Claude 3 Haiku</option>
        </select>
      </div>

      <div className="flex items-center justify-between py-2">
        <span className="text-sm text-text-secondary">
          åˆ†ææ—¶åŒ…å«æŒä»“æˆæœ¬æ•°æ®
        </span>
        <Switch
          checked={aiConfig.includeCost}
          onChange={(v) => updateAIConfig({ includeCost: v })}
        />
      </div>
    </div>
  </Section>
</SettingsPanel>
```

---

## 7. æŠ€æœ¯å®ç°è¦ç‚¹

### 7.1 çŠ¶æ€ç®¡ç† (Zustand)

**TypeScript**å¤åˆ¶

```typescript
interface AppState {
  // é¡µé¢è·¯ç”± (ç®€å•çŠ¶æ€ç®¡ç†ï¼Œæ— éœ€Router)
  currentView: "home" | "portfolio";

  // AI çŠ¶æ€
  aiConfig: {
    provider: string;
    apiKey: string;
    model: string;
    includeCost: boolean;
  };
  isAnalyzing: boolean;
  analysisResult: AnalysisResult | null;

  // é€‰æ‹©å™¨çŠ¶æ€
  selectedFundsForAI: Fund[];
  aiMode: "single" | "compare" | null;

  // Actions
  startAIDiagnosis: (funds: Fund[]) => Promise<void>;
  setAIConfig: (config: Partial<AIConfig>) => void;
}
```

### 7.2 AI æµå¼è¾“å‡ºå®ç°

**TypeScript**å¤åˆ¶

```typescript
// hooks/useAIStream.ts
export const useAIStream = () => {
  const [content, setContent] = useState("");
  const [loading, setLoading] = useState(false);

  const streamAnalyze = async (
    prompt: string,
    onComplete?: (full: string) => void,
  ) => {
    setLoading(true);
    setContent("");

    const response = await fetch("https://api.openai.com/v1/chat/completions", {
      method: "POST",
      headers: {
        Authorization: `Bearer ${apiKey}`,
        "Content-Type": "application/json",
      },
      body: JSON.stringify({
        model: "gpt-4-mini",
        messages: [{ role: "user", content: prompt }],
        stream: true,
      }),
    });

    const reader = response.body?.getReader();
    const decoder = new TextDecoder();

    while (true) {
      const { done, value } = await reader!.read();
      if (done) break;

      const chunk = decoder.decode(value);
      const lines = chunk.split("\n").filter((line) => line.trim() !== "");

      for (const line of lines) {
        if (line.startsWith("data: ")) {
          const data = line.slice(6);
          if (data === "[DONE]") continue;

          try {
            const parsed = JSON.parse(data);
            const delta = parsed.choices[0].delta.content || "";
            setContent((prev) => prev + delta);
          } catch (e) {}
        }
      }
    }

    setLoading(false);
    onComplete?.(content);
  };

  return { content, loading, streamAnalyze };
};
```

---

è¿™å¥—é‡æ„æ–¹æ¡ˆå®Œæ•´æ•´åˆäº†ï¼š

1. **æ·±ç©ºéœ“è™¹è§†è§‰ç³»ç»Ÿ** ï¼ˆèµ›åšæœ‹å…‹é‡‘èé£ï¼‰
2. **é¦–é¡µåŒåˆ—æ¶æ„** ï¼ˆæŒ‡æ•°æµ+åŸºé‡‘æ’è¡Œæ¦œ+æœç´¢ï¼‰
3. **è‡ªé€‰é©¾é©¶èˆ±** ï¼ˆèµ„äº§æ¦‚è§ˆ+è¯¦ç»†åˆ—è¡¨+å¿«æ·AIï¼‰
4. **AIè¯ŠåŸº2.0** ï¼ˆé€‰æ‹©å™¨é™åˆ¶3åª+å•åŸºé‡‘æ·±åº¦/å¤šåŸºé‡‘å¯¹æ¯”åŒæ¨¡å¼ï¼‰
5. **æµå¼AIäº¤äº’** ï¼ˆæ‰“å­—æœºæ•ˆæœ+å®æ—¶æ¸²æŸ“ï¼‰
